import{_ as v,o as p,q as r,a as h,c as o,b as s,t,F as y,r as f,d as _,e as n,g as m,h as g}from"./index-tfmkMU6m.js";const k={class:"history-container"},w={key:0,class:"loading"},b={key:1,class:"error"},q={key:2,class:"empty"},x={key:3,class:"order-list"},V={class:"card-header"},B={class:"order-id"},I={class:"time"},M={class:"content"},C={key:0,class:"row"},F={class:"value"},H={class:"row details"},N={class:"price-qty"},S={class:"total"},$={class:"card-footer"},z={__name:"HistoryView",setup(D){const c=_([]),d=_(!0),i=_("");return p(async()=>{try{r.profile||await r.init();const l=r.getUser();if(!l||!l.userId){i.value="無法取得使用者資訊，請重新登入",d.value=!1;return}const a=await h.getOrders(l.userId);a.data.status==="success"?c.value=a.data.data:i.value=a.data.message}catch(l){console.error(l),i.value="讀取失敗，請稍後再試"}finally{d.value=!1}}),(l,a)=>(n(),o("div",k,[a[1]||(a[1]=s("h1",null,"我的訂單",-1)),d.value?(n(),o("div",w,"載入中...")):i.value?(n(),o("div",b,t(i.value),1)):c.value.length===0?(n(),o("div",q,"尚無訂單記錄")):(n(),o("div",x,[(n(!0),o(y,null,f(c.value,(e,u)=>(n(),o("div",{key:u,class:"order-card glass-card"},[s("div",V,[s("span",B,"#"+t(e.order_id),1),s("span",I,t(e.time),1)]),s("div",M,[s("h3",null,t(e.item_name),1),e.spec?(n(),o("div",C,[a[0]||(a[0]=s("span",{class:"label"},"規格:",-1)),s("span",F,t(e.spec),1)])):m("",!0),s("div",H,[s("span",N," $ "+t(Math.round(e.total/e.qty))+" x "+t(e.qty),1),s("span",S,"$ "+t(e.total),1)])]),s("div",$,[s("span",{class:g(["status-badge",e.order_status==="已完成"?"done":"pending"])},t(e.order_status||"處理中"),3)])]))),128))]))]))}},L=v(z,[["__scopeId","data-v-a2e818b3"]]);export{L as default};

import{_ as g,o as k,s as c,c as n,a as s,e as O,f as T,t as v,w as p,v as m,h as w,b as r,d as u}from"./index-DZG6CjIN.js";import{a as C}from"./api-lWrPAgcP.js";import{u as S}from"./cart-DHeeR0ZS.js";import{o as D}from"./image-CPrgbr6F.js";const U={key:0,class:"product-container"},V={class:"img-wrapper"},L=["src","alt"],$={key:0,class:"sold-out-overlay"},x={class:"info-card glass-card"},h={class:"header-row"},B={class:"price"},P={class:"form-section"},q={class:"form-group"},I={class:"qty-control glass-card"},M={class:"form-group"},N=["disabled"],z={key:0},E={key:1},Q={key:1,class:"loading-state"},R={__name:"ProductView",setup(j){const _=w(),f=S(),e=r(null),y=r(!0),a=r(1),i=r("");k(async()=>{try{const o=await C.getProduct(_.params.id);o.data.status==="success"?e.value=o.data.data:c("å•†å“ä¸å­˜åœ¨","error")}catch(o){console.error(o)}finally{y.value=!1}});function b(){e.value&&e.value.status!=="SOLD_OUT"&&(f.addToCart(e.value,a.value,i.value||"å–®ä¸€è¦æ ¼"),c("å·²åŠ å…¥è³¼ç‰©è»Šï¼","success"))}function d(o){a.value+=o,a.value<1&&(a.value=1)}return(o,t)=>e.value?(u(),n("div",U,[s("div",V,[s("img",{src:O(D)(e.value.image_url,800),alt:e.value.name},null,8,L),e.value.status==="SOLD_OUT"?(u(),n("div",$,[...t[5]||(t[5]=[s("span",null,"SOLD OUT",-1)])])):T("",!0),s("button",{class:"back-btn",onClick:t[0]||(t[0]=l=>o.$router.back())},"â†")]),s("div",x,[s("div",h,[s("h1",null,v(e.value.name),1),s("div",B,"$ "+v(e.value.price),1)]),t[8]||(t[8]=s("div",{class:"divider"},null,-1)),s("div",P,[s("div",q,[t[6]||(t[6]=s("label",null,"è³¼è²·æ•¸é‡",-1)),s("div",I,[s("button",{onClick:t[1]||(t[1]=l=>d(-1))},"-"),p(s("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>a.value=l),readonly:""},null,512),[[m,a.value]]),s("button",{onClick:t[3]||(t[3]=l=>d(1))},"+")])]),s("div",M,[t[7]||(t[7]=s("label",null,"å•†å“è¦æ ¼",-1)),p(s("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>i.value=l),class:"spec-input glass-card",placeholder:"è«‹è¼¸å…¥ï¼šé¡è‰²ã€å°ºå¯¸ç­‰"},null,512),[[m,i.value]])])]),s("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:b},[e.value.status==="SOLD_OUT"?(u(),n("span",z,"å·²å”®å®Œ")):(u(),n("span",E,"åŠ å…¥è³¼ç‰©è»Š ğŸ›’"))],8,N)])])):(u(),n("div",Q,[...t[9]||(t[9]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æº–å‚™å•†å“è©³æƒ…",-1)])]))}},J=g(R,[["__scopeId","data-v-630bc914"]]);export{J as default};

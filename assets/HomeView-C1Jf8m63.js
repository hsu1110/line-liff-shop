import{a as m}from"./api-lWrPAgcP.js";import{_ as v,o as p,c as e,a as t,b as g,t as c,F as y,r as f,d,u as h,e as a,f as k}from"./index-j1qVdiIM.js";const V={class:"home-container"},w={key:0,class:"loading"},x={key:1,class:"error"},O={key:2,class:"empty"},T={key:3,class:"product-grid"},B=["onClick"],C={class:"img-wrapper"},D=["src","alt"],L={key:0,class:"sold-out-overlay"},N={class:"p-info"},S={class:"price"},b={__name:"HomeView",setup(F){const n=d([]),i=d(!0),l=d(""),u=h();p(async()=>{try{const s=await m.getProducts();s.data.status==="success"?n.value=s.data.data:(console.error(s.data.message),l.value=s.data.message||"無法取得商品列表，請稍後再試")}catch(s){console.error(s),l.value="網路連線錯誤，請檢查網路狀態"}finally{i.value=!1}});function _(s){u.push({name:"product",params:{id:s}})}return(s,r)=>(a(),e("div",V,[r[2]||(r[2]=t("h1",null,"最新商品",-1)),i.value?(a(),e("div",w," 載入中... ")):l.value?(a(),e("div",x,[g(c(l.value)+" ",1),r[0]||(r[0]=t("br",null,null,-1)),r[1]||(r[1]=t("small",null,"(請確認後端是否已部署最新版本)",-1))])):n.value.length===0?(a(),e("div",O," 尚無上架商品 ")):(a(),e("div",T,[(a(!0),e(y,null,f(n.value,o=>(a(),e("div",{key:o.pid,class:"product-card",onClick:H=>_(o.pid)},[t("div",C,[t("img",{src:o.image_url,alt:o.name,loading:"lazy"},null,8,D),o.status==="SOLD_OUT"?(a(),e("div",L,"SOLD OUT")):k("",!0)]),t("div",N,[t("h3",null,c(o.name),1),t("p",S,"$ "+c(o.price),1)])],8,B))),128))]))]))}},U=v(b,[["__scopeId","data-v-025637d1"]]);export{U as default};

import{_ as g,o as O,c as r,a as t,f as b,t as d,w as v,v as p,g as k,d as n,e as i}from"./index-C-EbjIvV.js";import{a as S}from"./api-lWrPAgcP.js";import{u as T}from"./cart-BRYtx1Fw.js";const C={key:0,class:"product-container"},D={class:"img-wrapper"},U=["src","alt"],w={key:0,class:"sold-out-overlay"},L={class:"info"},V={class:"price"},x={class:"form-group"},h={class:"qty-control"},B={class:"form-group"},P=["disabled"],$={key:1,class:"loading"},q={__name:"ProductView",setup(M){const _=k(),m=T(),e=n(null),f=n(!0),o=n(1),u=n("");O(async()=>{try{const a=await S.getProduct(_.params.id);a.data.status==="success"?e.value=a.data.data:alert("商品不存在")}catch(a){console.error(a)}finally{f.value=!1}});function y(){e.value&&e.value.status!=="SOLD_OUT"&&(m.addToCart(e.value,o.value,u.value||"單一規格"),alert("已加入購物車！"))}function c(a){o.value+=a,o.value<1&&(o.value=1)}return(a,s)=>e.value?(i(),r("div",C,[t("div",D,[t("img",{src:e.value.image_url,alt:e.value.name},null,8,U),e.value.status==="SOLD_OUT"?(i(),r("div",w,"SOLD OUT")):b("",!0)]),t("div",L,[t("h1",null,d(e.value.name),1),t("p",V,"$ "+d(e.value.price),1),t("div",x,[s[4]||(s[4]=t("label",null,"數量",-1)),t("div",h,[t("button",{onClick:s[0]||(s[0]=l=>c(-1))},"-"),v(t("input",{type:"number","onUpdate:modelValue":s[1]||(s[1]=l=>o.value=l),readonly:""},null,512),[[p,o.value]]),t("button",{onClick:s[2]||(s[2]=l=>c(1))},"+")])]),t("div",B,[s[5]||(s[5]=t("label",null,"規格",-1)),v(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=l=>u.value=l),placeholder:"例如：紅色 s號"},null,512),[[p,u.value]])]),t("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:y},d(e.value.status==="SOLD_OUT"?"已售完":"加入購物車"),9,P)])])):(i(),r("div",$,"Loading..."))}},Q=g(q,[["__scopeId","data-v-4c089568"]]);export{Q as default};

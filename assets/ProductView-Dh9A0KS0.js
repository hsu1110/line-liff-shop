import{_ as b,o as g,c as n,a as t,e as k,f as O,t as c,w as v,v as p,h as C,b as r,d as u}from"./index-CzeOEHsT.js";import{a as S}from"./api-lWrPAgcP.js";import{u as T}from"./cart-frKut2O2.js";import{o as w}from"./image-CPrgbr6F.js";const D={key:0,class:"product-container"},U={class:"img-wrapper"},V=["src","alt"],L={key:0,class:"sold-out-overlay"},$={class:"info-card glass-card"},x={class:"header-row"},B={class:"price"},P={class:"form-section"},h={class:"form-group"},q={class:"qty-control glass-card"},I={class:"form-group"},M=["disabled"],N={key:0},z={key:1},E={key:1,class:"loading-state"},Q={__name:"ProductView",setup(R){const m=C(),_=T(),e=r(null),f=r(!0),o=r(1),i=r("");g(async()=>{try{const a=await S.getProduct(m.params.id);a.data.status==="success"?e.value=a.data.data:alert("å•†å“ä¸å­˜åœ¨")}catch(a){console.error(a)}finally{f.value=!1}});function y(){e.value&&e.value.status!=="SOLD_OUT"&&(_.addToCart(e.value,o.value,i.value||"å–®ä¸€è¦æ ¼"),alert("å·²åŠ å…¥è³¼ç‰©è»Šï¼"))}function d(a){o.value+=a,o.value<1&&(o.value=1)}return(a,s)=>e.value?(u(),n("div",D,[t("div",U,[t("img",{src:k(w)(e.value.image_url,800),alt:e.value.name},null,8,V),e.value.status==="SOLD_OUT"?(u(),n("div",L,[...s[5]||(s[5]=[t("span",null,"SOLD OUT",-1)])])):O("",!0),t("button",{class:"back-btn",onClick:s[0]||(s[0]=l=>a.$router.back())},"â†")]),t("div",$,[t("div",x,[t("h1",null,c(e.value.name),1),t("div",B,"$ "+c(e.value.price),1)]),s[8]||(s[8]=t("div",{class:"divider"},null,-1)),t("div",P,[t("div",h,[s[6]||(s[6]=t("label",null,"è³¼è²·æ•¸é‡",-1)),t("div",q,[t("button",{onClick:s[1]||(s[1]=l=>d(-1))},"-"),v(t("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=l=>o.value=l),readonly:""},null,512),[[p,o.value]]),t("button",{onClick:s[3]||(s[3]=l=>d(1))},"+")])]),t("div",I,[s[7]||(s[7]=t("label",null,"å•†å“è¦æ ¼",-1)),v(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=l=>i.value=l),class:"spec-input glass-card",placeholder:"è«‹è¼¸å…¥ï¼šé¡è‰²ã€å°ºå¯¸ç­‰"},null,512),[[p,i.value]])])]),t("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:y},[e.value.status==="SOLD_OUT"?(u(),n("span",N,"å·²å”®å®Œ")):(u(),n("span",z,"åŠ å…¥è³¼ç‰©è»Š ğŸ›’"))],8,M)])])):(u(),n("div",E,[...s[9]||(s[9]=[t("div",{class:"spinner"},null,-1),t("p",null,"æ­£åœ¨æº–å‚™å•†å“è©³æƒ…",-1)])]))}},H=b(Q,[["__scopeId","data-v-53812b65"]]);export{H as default};

import{_ as k,q as O,o as w,c as r,b as e,F as p,r as v,a as _,d as f,m as I,e as n,t as d,z as N,s as h}from"./index-CneHjChl.js";const V={class:"admin-container"},q={class:"admin-header"},x={class:"header-actions"},A={key:0,class:"loading-state"},B={key:1,class:"order-list"},C={class:"group-header"},E={class:"order-no"},S={class:"user-name"},b={class:"items-list"},F={class:"name"},U={class:"spec"},$={class:"qty"},z={class:"group-footer"},D={class:"status-selector"},G=["value","onChange"],L={__name:"AdminOrderView",setup(M){const i=f([]),l=f(!0),u=O.getUser()?.userId,m=async()=>{l.value=!0;try{const t=await _.adminGetAllOrders(u);i.value=t.data.data}finally{l.value=!1}},g=I(()=>{const t={};return i.value.forEach(s=>{t[s.orderId]||(t[s.orderId]=[]),t[s.orderId].push(s)}),t}),y=async(t,s)=>{try{await _.adminUpdateOrder(u,t,s),i.value.forEach(a=>{a.orderId===t&&(a.status=s)}),h("ç‹€æ…‹å·²æ›´æ–°","success")}catch{h("æ›´æ–°å¤±æ•—","error")}};return w(m),(t,s)=>(n(),r("div",V,[e("header",q,[s[1]||(s[1]=e("h1",null,"è¨‚å–®ç¸½è¦½ä¸­å¿ƒ",-1)),e("div",x,[e("button",{onClick:s[0]||(s[0]=a=>t.$router.push("/admin/products")),class:"sub-nav-btn"},"â† å•†å“ç®¡ç†")])]),l.value?(n(),r("div",A,[...s[2]||(s[2]=[e("div",{class:"spinner"},null,-1)])])):(n(),r("div",B,[(n(!0),r(p,null,v(g.value,(a,c)=>(n(),r("div",{key:c,class:"order-group glass-card"},[e("div",C,[e("span",E,"# "+d(c),1),e("span",S,"ğŸ‘¤ "+d(a[0].userName),1)]),e("div",b,[(n(!0),r(p,null,v(a,o=>(n(),r("div",{key:o.pid+o.spec,class:"item"},[e("span",F,d(o.productName),1),e("span",U,"("+d(o.spec)+")",1),e("span",$,"x"+d(o.qty),1)]))),128))]),e("div",z,[e("div",D,[e("select",{value:a[0].status,onChange:o=>y(c,o.target.value),class:"status-select"},[...s[3]||(s[3]=[N('<option value="æœªä»˜æ¬¾" data-v-d9496fe6>æœªä»˜æ¬¾</option><option value="å·²ä»˜æ¬¾" data-v-d9496fe6>å·²ä»˜æ¬¾</option><option value="å·²ç™¼è²¨" data-v-d9496fe6>å·²ç™¼è²¨</option><option value="å·²å®Œæˆ" data-v-d9496fe6>å·²å®Œæˆ</option><option value="å·²å–æ¶ˆ" data-v-d9496fe6>å·²å–æ¶ˆ</option>',5)])],40,G)])])]))),128))]))]))}},j=k(L,[["__scopeId","data-v-d9496fe6"]]);export{j as default};

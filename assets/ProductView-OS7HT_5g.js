import{_ as g,h as O,o as T,a as w,s as v,c as n,b as s,u as C,i as p,t as r,w as _,v as m,j as S,k as i,f as u}from"./index-IQMME31T.js";import{o as D}from"./image-CPrgbr6F.js";const U={key:0,class:"product-container"},V={class:"img-wrapper"},L=["src","alt"],$={key:0,class:"sold-out-overlay"},x={class:"info-card glass-card"},h={class:"header-row"},B={class:"price"},P={key:0,class:"description-block"},q={class:"form-section"},I={class:"form-group"},M={class:"qty-control glass-card"},N={class:"form-group"},j=["disabled"],z={key:0},E={key:1},Q={key:1,class:"loading-state"},R={__name:"ProductView",setup(A){const f=S(),y=O(),e=i(null),k=i(!0),a=i(1),d=i("");T(async()=>{try{const o=await w.getProduct(f.params.id);o.data.status==="success"?e.value=o.data.data:v("å•†å“ä¸å­˜åœ¨","error")}catch(o){console.error(o)}finally{k.value=!1}});function b(){e.value&&e.value.status!=="SOLD_OUT"&&(y.addToCart(e.value,a.value,d.value||"å–®ä¸€è¦æ ¼"),v("å·²åŠ å…¥è³¼ç‰©è»Šï¼","success"))}function c(o){a.value+=o,a.value<1&&(a.value=1)}return(o,t)=>e.value?(u(),n("div",U,[s("div",V,[s("img",{src:C(D)(e.value.image_url,800),alt:e.value.name},null,8,L),e.value.status==="SOLD_OUT"?(u(),n("div",$,[...t[5]||(t[5]=[s("span",null,"SOLD OUT",-1)])])):p("",!0),s("button",{class:"back-btn",onClick:t[0]||(t[0]=l=>o.$router.back())},"â†")]),s("div",x,[s("div",h,[s("h1",null,r(e.value.name),1),s("div",B,"$ "+r(e.value.price),1)]),e.value.description?(u(),n("div",P,[t[6]||(t[6]=s("h3",null,"å•†å“ä»‹ç´¹",-1)),s("p",null,r(e.value.description),1)])):p("",!0),t[9]||(t[9]=s("div",{class:"divider"},null,-1)),s("div",q,[s("div",I,[t[7]||(t[7]=s("label",null,"è³¼è²·æ•¸é‡",-1)),s("div",M,[s("button",{onClick:t[1]||(t[1]=l=>c(-1))},"-"),_(s("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>a.value=l),readonly:""},null,512),[[m,a.value]]),s("button",{onClick:t[3]||(t[3]=l=>c(1))},"+")])]),s("div",N,[t[8]||(t[8]=s("label",null,"å•†å“è¦æ ¼",-1)),_(s("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>d.value=l),class:"spec-input glass-card",placeholder:"è«‹è¼¸å…¥ï¼šé¡è‰²ã€å°ºå¯¸ç­‰"},null,512),[[m,d.value]])])]),s("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:b},[e.value.status==="SOLD_OUT"?(u(),n("span",z,"å·²å”®å®Œ")):(u(),n("span",E,"åŠ å…¥è³¼ç‰©è»Š ğŸ›’"))],8,j)])])):(u(),n("div",Q,[...t[10]||(t[10]=[s("div",{class:"spinner"},null,-1),s("p",null,"è¼‰å…¥ä¸­...",-1)])]))}},H=g(R,[["__scopeId","data-v-efd32625"]]);export{H as default};

import{a as p}from"./api-lWrPAgcP.js";import{_ as v,o as f,k as d,c as a,a as s,t as o,F as m,r as h,d as _,e as i,f as y}from"./index-DfHhpIwA.js";const g={class:"history-container"},k={key:0,class:"loading"},w={key:1,class:"error"},x={key:2,class:"empty"},V={key:3,class:"order-list"},B={class:"header"},I={class:"order-id"},F={class:"time"},H={class:"content"},M={key:0,class:"spec"},N={class:"details"},S={class:"total"},$={__name:"HistoryView",setup(b){const c=_([]),r=_(!0),n=_("");return f(async()=>{try{d.profile||await d.init();const l=d.getUser();if(!l||!l.userId){n.value="無法取得使用者資訊，請重新登入",r.value=!1;return}const e=await p.getOrders(l.userId);e.data.status==="success"?c.value=e.data.data:n.value=e.data.message}catch(l){console.error(l),n.value="讀取失敗，請稍後再試"}finally{r.value=!1}}),(l,e)=>(i(),a("div",g,[e[1]||(e[1]=s("h1",null,"我的訂單",-1)),r.value?(i(),a("div",k,"載入中...")):n.value?(i(),a("div",w,o(n.value),1)):c.value.length===0?(i(),a("div",x,"尚無訂單記錄")):(i(),a("div",V,[(i(!0),a(m,null,h(c.value,(t,u)=>(i(),a("div",{key:u,class:"order-card"},[s("div",B,[s("span",I,"#"+o(t.order_id),1),s("span",F,o(t.time),1)]),s("div",H,[s("h3",null,o(t.item_name),1),t.spec?(i(),a("p",M,o(t.spec),1)):y("",!0),s("div",N,[s("span",null,"$ "+o(t.price),1),s("span",null,"x "+o(t.qty),1),s("span",S,"$ "+o(t.total),1)])]),e[0]||(e[0]=s("div",{class:"status-tag"},"處理中",-1))]))),128))]))]))}},D=v($,[["__scopeId","data-v-629794b8"]]);export{D as default};

import{_ as b,o as g,c as n,a as t,e as k,t as c,w as v,v as p,g as O,b as d,d as u}from"./index-DbxxHLbM.js";import{a as C}from"./api-lWrPAgcP.js";import{u as S}from"./cart-BADT1v4O.js";const T={key:0,class:"product-container"},w={class:"img-wrapper"},D=["src","alt"],U={key:0,class:"sold-out-overlay"},V={class:"info-card glass-card"},L={class:"header-row"},$={class:"price"},x={class:"form-section"},B={class:"form-group"},P={class:"qty-control glass-card"},q={class:"form-group"},M=["disabled"],N={key:0},h={key:1},E={key:1,class:"loading-state"},I={__name:"ProductView",setup(Q){const _=O(),m=S(),e=d(null),f=d(!0),o=d(1),r=d("");g(async()=>{try{const a=await C.getProduct(_.params.id);a.data.status==="success"?e.value=a.data.data:alert("å•†å“ä¸å­˜åœ¨")}catch(a){console.error(a)}finally{f.value=!1}});function y(){e.value&&e.value.status!=="SOLD_OUT"&&(m.addToCart(e.value,o.value,r.value||"å–®ä¸€è¦æ ¼"),alert("å·²åŠ å…¥è³¼ç‰©è»Šï¼"))}function i(a){o.value+=a,o.value<1&&(o.value=1)}return(a,s)=>e.value?(u(),n("div",T,[t("div",w,[t("img",{src:e.value.image_url,alt:e.value.name},null,8,D),e.value.status==="SOLD_OUT"?(u(),n("div",U,[...s[5]||(s[5]=[t("span",null,"SOLD OUT",-1)])])):k("",!0),t("button",{class:"back-btn",onClick:s[0]||(s[0]=l=>a.$router.back())},"â†")]),t("div",V,[t("div",L,[t("h1",null,c(e.value.name),1),t("div",$,"$ "+c(e.value.price),1)]),s[8]||(s[8]=t("div",{class:"divider"},null,-1)),t("div",x,[t("div",B,[s[6]||(s[6]=t("label",null,"è³¼è²·æ•¸é‡",-1)),t("div",P,[t("button",{onClick:s[1]||(s[1]=l=>i(-1))},"-"),v(t("input",{type:"number","onUpdate:modelValue":s[2]||(s[2]=l=>o.value=l),readonly:""},null,512),[[p,o.value]]),t("button",{onClick:s[3]||(s[3]=l=>i(1))},"+")])]),t("div",q,[s[7]||(s[7]=t("label",null,"å•†å“è¦æ ¼",-1)),v(t("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=l=>r.value=l),class:"spec-input glass-card",placeholder:"è«‹è¼¸å…¥ï¼šé¡è‰²ã€å°ºå¯¸ç­‰"},null,512),[[p,r.value]])])]),t("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:y},[e.value.status==="SOLD_OUT"?(u(),n("span",N,"å·²å”®å®Œ")):(u(),n("span",h,"åŠ å…¥è³¼ç‰©è»Š ğŸ›’"))],8,M)])])):(u(),n("div",E,[...s[9]||(s[9]=[t("div",{class:"spinner"},null,-1),t("p",null,"æ­£åœ¨æº–å‚™å•†å“è©³æƒ…",-1)])]))}},A=b(I,[["__scopeId","data-v-c537d05e"]]);export{A as default};

import{a as p}from"./api-lWrPAgcP.js";import{_ as v,o as m,j as d,c as a,a as s,t as o,F as f,r as h,b as _,d as i,e as y}from"./index-BBzam26o.js";const g={class:"history-container"},k={key:0,class:"loading"},w={key:1,class:"error"},x={key:2,class:"empty"},V={key:3,class:"order-list"},B={class:"header"},I={class:"order-id"},b={class:"time"},F={class:"content"},H={key:0,class:"spec"},M={class:"details"},N={class:"total"},S={__name:"HistoryView",setup($){const c=_([]),r=_(!0),n=_("");return m(async()=>{try{d.profile||await d.init();const l=d.getUser();if(!l||!l.userId){n.value="無法取得使用者資訊，請重新登入",r.value=!1;return}const e=await p.getOrders(l.userId);e.data.status==="success"?c.value=e.data.data:n.value=e.data.message}catch(l){console.error(l),n.value="讀取失敗，請稍後再試"}finally{r.value=!1}}),(l,e)=>(i(),a("div",g,[e[1]||(e[1]=s("h1",null,"我的訂單",-1)),r.value?(i(),a("div",k,"載入中...")):n.value?(i(),a("div",w,o(n.value),1)):c.value.length===0?(i(),a("div",x,"尚無訂單記錄")):(i(),a("div",V,[(i(!0),a(f,null,h(c.value,(t,u)=>(i(),a("div",{key:u,class:"order-card"},[s("div",B,[s("span",I,"#"+o(t.order_id),1),s("span",b,o(t.time),1)]),s("div",F,[s("h3",null,o(t.item_name),1),t.spec?(i(),a("p",H,o(t.spec),1)):y("",!0),s("div",M,[s("span",null,"$ "+o(t.price),1),s("span",null,"x "+o(t.qty),1),s("span",N,"$ "+o(t.total),1)])]),e[0]||(e[0]=s("div",{class:"status-tag"},"處理中",-1))]))),128))]))]))}},C=v(S,[["__scopeId","data-v-629794b8"]]);export{C as default};

import{_ as v,o as p,y as d,a as h,c as o,b as s,t as e,F as y,r as f,l as _,f as l,g as m,h as g}from"./index-wv8Ua5ES.js";const k={class:"history-container"},w={key:0,class:"loading"},b={key:1,class:"error"},x={key:2,class:"empty"},V={key:3,class:"order-list"},q={class:"card-header"},B={class:"order-id"},I={class:"time"},M={class:"content"},C={key:0,class:"row"},F={class:"value"},H={class:"row details"},N={class:"price-qty"},S={class:"total"},$={class:"card-footer"},z={__name:"HistoryView",setup(D){const c=_([]),r=_(!0),i=_("");return p(async()=>{try{d.profile||await d.init();const n=d.getUser();if(!n||!n.userId){i.value="無法取得使用者資訊，請重新登入",r.value=!1;return}const a=await h.getOrders(n.userId);a.data.status==="success"?c.value=a.data.data:i.value=a.data.message}catch(n){console.error(n),i.value="讀取失敗，請稍後再試"}finally{r.value=!1}}),(n,a)=>(l(),o("div",k,[a[1]||(a[1]=s("h1",null,"我的訂單",-1)),r.value?(l(),o("div",w,"載入中...")):i.value?(l(),o("div",b,e(i.value),1)):c.value.length===0?(l(),o("div",x,"尚無訂單記錄")):(l(),o("div",V,[(l(!0),o(y,null,f(c.value,(t,u)=>(l(),o("div",{key:u,class:"order-card glass-card"},[s("div",q,[s("span",B,"#"+e(t.order_id),1),s("span",I,e(t.time),1)]),s("div",M,[s("h3",null,e(t.item_name),1),t.spec?(l(),o("div",C,[a[0]||(a[0]=s("span",{class:"label"},"規格:",-1)),s("span",F,e(t.spec),1)])):m("",!0),s("div",H,[s("span",N," $ "+e(Math.round(t.total/t.qty))+" x "+e(t.qty),1),s("span",S,"$ "+e(t.total),1)])]),s("div",$,[s("span",{class:g(["status-badge",t.order_status==="已完成"?"done":"pending"])},e(t.order_status||"處理中"),3)])]))),128))]))]))}},L=v(z,[["__scopeId","data-v-a2e818b3"]]);export{L as default};

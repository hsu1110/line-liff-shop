import{_ as g,f as O,o as S,s as v,c as l,a as s,u as T,g as p,t as d,w as _,v as m,h as w,i as f,j as C,d as n}from"./index-C2ow85uB.js";import{u as D}from"./productStore-CaKZATd2.js";import{o as U}from"./image-CPrgbr6F.js";const P={key:0,class:"product-container"},V={class:"img-wrapper"},L=["src","alt"],$={key:0,class:"sold-out-overlay"},x={class:"info-card glass-card"},B={class:"header-row"},h={class:"price"},q={key:0,class:"description-block"},I={class:"form-section"},M={class:"form-group"},N={class:"qty-control glass-card"},j={class:"form-group"},z=["disabled"],E={key:0},Q={key:1},R={key:1,class:"loading-state"},A={__name:"ProductView",setup(F){const b=C(),r=D(),y=O(),o=f(1),u=f(""),e=w(()=>r.getProductByPid(b.params.id));S(async()=>{e.value||(await r.fetchProducts(),e.value||v("æŸ¥ç„¡æ­¤å•†å“","error"))});function k(){e.value&&e.value.status!=="SOLD_OUT"&&(y.addToCart(e.value,o.value,u.value||"å–®ä¸€è¦æ ¼"),v("å·²åŠ å…¥è³¼ç‰©è»Šï¼","success"))}function c(i){o.value+=i,o.value<1&&(o.value=1)}return(i,t)=>e.value?(n(),l("div",P,[s("div",V,[s("img",{src:T(U)(e.value.image_url,800),alt:e.value.name},null,8,L),e.value.status==="SOLD_OUT"?(n(),l("div",$,[...t[5]||(t[5]=[s("span",null,"SOLD OUT",-1)])])):p("",!0),s("button",{class:"back-btn",onClick:t[0]||(t[0]=a=>i.$router.back())},"â†")]),s("div",x,[s("div",B,[s("h1",null,d(e.value.name),1),s("div",h,"$ "+d(e.value.price),1)]),e.value.description?(n(),l("div",q,[t[6]||(t[6]=s("h3",null,"å•†å“ä»‹ç´¹",-1)),s("p",null,d(e.value.description),1)])):p("",!0),t[9]||(t[9]=s("div",{class:"divider"},null,-1)),s("div",I,[s("div",M,[t[7]||(t[7]=s("label",null,"è³¼è²·æ•¸é‡",-1)),s("div",N,[s("button",{onClick:t[1]||(t[1]=a=>c(-1))},"-"),_(s("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=a=>o.value=a),readonly:""},null,512),[[m,o.value]]),s("button",{onClick:t[3]||(t[3]=a=>c(1))},"+")])]),s("div",j,[t[8]||(t[8]=s("label",null,"å•†å“è¦æ ¼",-1)),_(s("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>u.value=a),class:"spec-input glass-card",placeholder:"è«‹è¼¸å…¥ï¼šé¡è‰²ã€å°ºå¯¸ç­‰"},null,512),[[m,u.value]])])]),s("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:k},[e.value.status==="SOLD_OUT"?(n(),l("span",E,"å·²å”®å®Œ")):(n(),l("span",Q,"åŠ å…¥è³¼ç‰©è»Š ğŸ›’"))],8,z)])])):(n(),l("div",R,[...t[10]||(t[10]=[s("div",{class:"spinner"},null,-1),s("p",null,"è¼‰å…¥ä¸­...",-1)])]))}},K=g(A,[["__scopeId","data-v-28bb2249"]]);export{K as default};

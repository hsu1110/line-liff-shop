import{_ as g,h as k,o as O,s as c,c as n,a as s,e as T,f as w,t as v,w as p,v as _,i as C,b as r,d as u}from"./index-DkhlUKHM.js";import{a as S}from"./api-lWrPAgcP.js";import{o as D}from"./image-CPrgbr6F.js";const U={key:0,class:"product-container"},V={class:"img-wrapper"},L=["src","alt"],$={key:0,class:"sold-out-overlay"},x={class:"info-card glass-card"},h={class:"header-row"},B={class:"price"},P={class:"form-section"},q={class:"form-group"},I={class:"qty-control glass-card"},M={class:"form-group"},N=["disabled"],z={key:0},E={key:1},Q={key:1,class:"loading-state"},R={__name:"ProductView",setup(j){const m=C(),f=k(),e=r(null),y=r(!0),o=r(1),i=r("");O(async()=>{try{const a=await S.getProduct(m.params.id);a.data.status==="success"?e.value=a.data.data:c("å•†å“ä¸å­˜åœ¨","error")}catch(a){console.error(a)}finally{y.value=!1}});function b(){e.value&&e.value.status!=="SOLD_OUT"&&(f.addToCart(e.value,o.value,i.value||"å–®ä¸€è¦æ ¼"),c("å·²åŠ å…¥è³¼ç‰©è»Šï¼","success"))}function d(a){o.value+=a,o.value<1&&(o.value=1)}return(a,t)=>e.value?(u(),n("div",U,[s("div",V,[s("img",{src:T(D)(e.value.image_url,800),alt:e.value.name},null,8,L),e.value.status==="SOLD_OUT"?(u(),n("div",$,[...t[5]||(t[5]=[s("span",null,"SOLD OUT",-1)])])):w("",!0),s("button",{class:"back-btn",onClick:t[0]||(t[0]=l=>a.$router.back())},"â†")]),s("div",x,[s("div",h,[s("h1",null,v(e.value.name),1),s("div",B,"$ "+v(e.value.price),1)]),t[8]||(t[8]=s("div",{class:"divider"},null,-1)),s("div",P,[s("div",q,[t[6]||(t[6]=s("label",null,"è³¼è²·æ•¸é‡",-1)),s("div",I,[s("button",{onClick:t[1]||(t[1]=l=>d(-1))},"-"),p(s("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=l=>o.value=l),readonly:""},null,512),[[_,o.value]]),s("button",{onClick:t[3]||(t[3]=l=>d(1))},"+")])]),s("div",M,[t[7]||(t[7]=s("label",null,"å•†å“è¦æ ¼",-1)),p(s("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>i.value=l),class:"spec-input glass-card",placeholder:"è«‹è¼¸å…¥ï¼šé¡è‰²ã€å°ºå¯¸ç­‰"},null,512),[[_,i.value]])])]),s("button",{class:"add-btn",disabled:e.value.status==="SOLD_OUT",onClick:b},[e.value.status==="SOLD_OUT"?(u(),n("span",z,"å·²å”®å®Œ")):(u(),n("span",E,"åŠ å…¥è³¼ç‰©è»Š ğŸ›’"))],8,N)])])):(u(),n("div",Q,[...t[9]||(t[9]=[s("div",{class:"spinner"},null,-1),s("p",null,"æ­£åœ¨æº–å‚™å•†å“è©³æƒ…",-1)])]))}},H=g(R,[["__scopeId","data-v-630bc914"]]);export{H as default};
